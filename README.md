Watts-Strogatz model network generator
===

A Ruby command-line utility to generate
[Watts-Strogatz model](http://en.wikipedia.org/wiki/Watts_and_Strogatz_model)
networks defining input parameters (number of nodes, beta parameter) and
collecting output parameters (average path length, the clustering coefficient, 
and the degree distribution).

Background
---

(from Wikipedia and the 
[Six Degrees](http://books.wwnorton.com/books/Six-Degrees/) book)

Watts and Strogatz published this network model in 1998. They intended to 
create the simplest model that can produce graphs with 
[small-world properties](http://en.wikipedia.org/wiki/Small-world_network).

Small-worlds network are graphs in which most nodes are not neighbors of one 
another, but most nodes can be reached from every other by a small number of 
hops or steps.

It is translated in graph theory and topology by two main properties:

1. a large *[clustering coefficient](http://en.wikipedia.org/wiki/Clustering_coefficient)*: 
the nodes in the graph tends to cluster together
2. a low *[average path length](http://en.wikipedia.org/wiki/Average_path_length)*: 
two nodes can be joined in a few steps

A classical example of small-world network is the graph of human
relationships, where two complete strangers can be linked through a chain of 
few acquaintances. There are many other 
[examples of small-world network](http://en.wikipedia.org/wiki/Small-world_network#Examples_of_small-world_networks).

The Watts-Strogatz model network construction
---

It is built on a ring lattice, basically it means that the network nodes 
are arranged along a circle. It is a useful topology because it allows to 
start from a clean ordered network, where initially each node is connected 
to its neighbours.

From this initial lattice the network is built by injecting some
tunable randomness in the node connections. For that the links are 
randomly rewired.

How? Each link in the lattice is visited and is randomly rewired with
some probability. This probability is the parameter *beta*. For instance
a link from node A to B has a beta probability to be rewired from A to
another random node Bnew in the lattice.

![Construction of a Watts-Strogratz model network](https://github.com/Florent2/Watts-Strogatz-model-network-generator/raw/master/images/construction-of-the-model.png)

When beta is 0 the lattice remains unchanged. When beta is 1 all links
are rewired, generating a full random network. In the middle the network
is partly ordered and partly random.

Here is the exact rewiring algorithm described in
[Collective dynamics of 'small-world' network](http://tam.cornell.edu/tam/cms/manage/upload/SS_nature_smallworld.pdf),
legend of figure 1:

Note first that:
* vertex = node
* edge = link

"We choose a vertex and the edge that connects it to its nearest neighbour in a
clockwise sense. With probability p, we reconnect this edge to a vertex chosen
uniformly at random over the entire ring, with duplicate edges forbidden; 
otherwise we leave the edge in place. We repeat this process by moving clockwise
around the ring, considering each vertex in turn until one lap is completed. Next,
we consider the edges that connect vertices to their second-nearest neighbours
clockwise. As before, we randomly rewire each of these edges with probability p,
and continue this process, circulating around the ring and proceeding outward to
more distant neighbours after each lap, until each edge in the original lattice has
been considered once. (As there are nk/2 edges in the entire graph, the rewiring
process stops after k/2 laps.)"

Interest of the Watts-Strogatz model
---

Networks generated by this simple model exhibit small-world properties,
i.e. a large clustering coefficient and a low average path length.

We can calculate those values based on the possible values of the input
parameter beta, and thus see which range of beta values produces small-world 
networks.

The model shows also that small-world networks can arise from a very simple
compromise between very basic forces - order & disorder - and not from
the specific mechanisms by which that compromise brokered (the link
rewiring in the model is a random process, it does not follow some rules).

### Exact results obtained by Watts and Strogatz

They will serve as the reference to check the correctness and appropriate use 
of the my implementation.

The values of the clustering coefficient and the average path length based on the
beta parameter are presented and detailled on the figure 2 of the article
[Collective dynamics of 'small-world'
network](http://tam.cornell.edu/tam/cms/manage/upload/SS_nature_smallworld.pdf).
 
From the [Six Degrees](http://books.wwnorton.com/books/Six-Degrees/) book: 
"on average the first five random rewirings reduce the average path  length of 
the network by one half, regardless of the size of the network."
